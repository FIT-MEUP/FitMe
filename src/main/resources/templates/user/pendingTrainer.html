<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>가입 승인 대기 중</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" th:href="@{/css/join.css}">
</head>
<body>
  <div class="container text-center mt-5">
    <h2>가입 신청이 접수되었습니다.</h2>
    <p>트레이너로 가입하기 위한 신청이 접수되었으며, 관리자의 승인을 기다리고 있습니다.</p>
    <!-- 버튼 클릭 시 로그아웃 요청 후 메인 페이지로 이동 -->
    <button class="btn btn-primary mt-3" onclick="logoutAndReturn()">메인 페이지로 돌아가기 (로그아웃)</button>
  </div>

  <script>
    function logoutAndReturn() {
      fetch('/user/logout', { method: 'POST' })
        .then(response => {
          if (response.ok) {
            // 로그아웃 성공 시 메인 페이지 (예: /trainers)로 이동
            window.location.href = '/trainers';
          } else {
            alert("로그아웃에 실패했습니다.");
          }
        })
        .catch(error => {
          console.error("로그아웃 오류:", error);
          alert("로그아웃 중 오류가 발생했습니다.");
        });
    }
  </script>
</body>
</html>
