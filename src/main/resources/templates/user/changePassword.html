<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>비밀번호 변경</title>
<!-- jQuery -->
<script th:src="@{/js/jquery-3.7.1.min.js}"></script>
<script defer th:src="@{/js/changePassword.js}"></script>

<script src="https://cdn.tailwindcss.com"></script>
<body class="bg-gray-200 flex justify-center items-center min-h-screen">
    <div class="flex flex-col items-center bg-gray-800  p-8 shadow-lg rounded-lg w-full max-w-md">
        <section class="w-full text-center mb-4">
            <h2 class="text-3xl text-white font-semibold">비밀번호 변경</h2>
        </section>

        <!-- 에러 메시지 표시 -->
        <th:block th:if="${error}">
            <div class="w-full bg-blue-100 text-red-600 p-3 rounded-lg mb-4 text-center">
                <span th:text="${error}"></span>
            </div>
            <!-- 성공 메시지 저장 (JS에서 활용) -->
            <input type="hidden" id="successMessage" th:value="${successMessage}">
        </th:block>
        
        
        <section class="w-full p-6 rounded-lg shadow-md">
            <form th:action="@{/user/changePasswordProc}" method="post" class="space-y-4">
                <div>
                    <label for="email" class="block text-white font-bold px-1">이메일 *</label>
                    <input type="email" id="email" name="email" required
                        class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:outline-none">
                </div>
                
                <div>
                    <label for="currentPassword" class="block text-white font-bold px-1">현재 비밀번호 *</label>
                    <input type="password" id="currentPassword" name="currentPassword" required
                        class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:outline-none">
                </div>
                
                <div>
                    <label for="newPassword" class="block text-white font-bold px-1">새 비밀번호 *</label>
                    <input type="password" id="newPassword" name="newPassword" required
                        class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:outline-none">
                    <small class="text-red-600">비밀번호는 6자 이상이며 특수문자를 포함해야 합니다.</small>
                </div>
                
                <div>
                    <label for="confirmPassword" class="block text-white font-bold px-1">새 비밀번호 확인 *</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required
                        class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:outline-none">
                </div>
                <br>
                <div class="flex gap-4">
                    <button type="submit" class="w-1/2 bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition">비밀번호 변경</button>
                    <a href="/" class="w-1/2 text-center bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition">취소</a>
                </div>
				</form>
        </section>
    </div>
</body>

</html>
